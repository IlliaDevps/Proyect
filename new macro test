
(function() {
  var backendUrl = "http://106.120.70.108:5000";

  // Include the Promise polyfill
  if (typeof window.Promise === 'undefined') {
    includePromisePolyfill();
  }

  // Make a GET request to the backend server
  fetch(backendUrl, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    },
    mode: 'cors',
    redirect: 'follow',
    referrerPolicy: 'no-referrer',
    agent: new (window.ES6Promise || ES6Promise).Agent({
    rejectUnauthorized: false
  })
    .then(function(response) {
      if (response.ok) {
        return response.text();
      } else {
        throw new Error('Request failed. Status: ' + response.status);
      }
    })
    .then(function(data) {
      console.log(data);
    })
    .catch(function(error) {
      console.error('Error:', error);
    });

  function includePromisePolyfill() {
    var script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.min.js';
    document.head.appendChild(script);
  }
})();
